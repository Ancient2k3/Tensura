-- If Game Is Successfully Loaded Then --
game:IsLoaded()

-- Removed Pre-existing GUI --
local Previous_SG_Name = "NganHa2k3_BFV01"

for _, SG in ipairs(game:GetService("CoreGui"):GetChildren()) do
    if SG:IsA("ScreenGui") and SG.Name == Previous_SG_Name then
        pcall(function()
            SG:Destroy()
        end)
    end
end

-- New Blox Fruit Script make by NganHa2k3 --
local BloxFruits_SGUI_Version_01 = Instance.new("ScreenGui")
local CG = game:GetService("CoreGui")
BloxFruits_SGUI_Version_01.Name = "NganHa2k3_BFV01"
BloxFruits_SGUI_Version_01.Parent = CG

-- Local Variable[Color]
local White, Black, Red, Green, DarkBlue, SkyBlue, Purple, Yellow
White = Color3.fromRGB(255, 255, 255)
Black = Color3.fromRGB(0, 0, 0)
Red = Color3.fromRGB(255, 0, 0)
Green = Color3.fromRGB(0, 255, 0)
DarkBlue = Color3.fromRGB(0, 0, 255)
SkyBlue = Color3.fromRGB(0, 255, 255)
Purple = Color3.fromRGB(255, 0, 255)
Yellow = Color3.fromRGB(255, 255, 0)

local A_Font, Ult_Size, HBBox_Size, HBBox_Pos, HBBox_CanvasSize
A_Font = Enum.Font.Code
Ult_Size = UDim2.new(0.96, 0, 0.15, 0)
HBBox_Size = UDim2.new(0.88, 0, 0.9, 0)
HBBox_Pos = UDim2.new(0.02, 0, 0.02, 0)
HBBox_CanvasSize = UDim2.new(0, 0, 2, 0)

-- Local Variable[for Configs SF]
local HUDSize_Transform, HUDPosition_Transform, DFrame_Small, DFrame_Big, DFrame_Default
HUDPosition_Transform = UDim2.new(0.02, 0, 0.02, 0)
HUDSize_Transform = UDim2.new(0.96, 0, 0.15, 0)

DFrame_Default = UDim2.new(0.2, 0, 0.55, 0)
DFrame_Small = UDim2.new(0.1, 0, 0.275, 0)
DFrame_Big = UDim2.new(0.6, 0, 0.65, 0)

-- Local Variable[GUI]
local TOGGLER_GUI, DRAGGING_FRAME, SCROLLINGFRAME_ULT, CONFIGS_SCROLLINGFRAME, Configs_MainScript, FARM_SCROLLINGFRAME, Farm_MainScript

-- InsideConfigs [Button]
local HUD_SIZETRANSFORMATION

-- InsideAutoFarm [Button]
local CONFIGS_FARM

-- Instance[Create Button]
TOGGLER_GUI = Instance.new("TextButton")
DRAGGING_FRAME = Instance.new("Frame")
SCROLLINGFRAME_ULT = Instance.new("ScrollingFrame")
CONFIGS_SCROLLINGFRAME = Instance.new("ScrollingFrame")
Configs_MainScript = Instance.new("TextButton")
FARM_SCROLLINGFRAME = Instance.new("ScrollingFrame")
Farm_MainScript = Instance.new("TextButton")


-- Instance[Create Button:Parent:Configs]
HUD_SIZETRANSFORMATION = Instance.new("TextButton")

-- Instance[Create Button:Parent:AutoFarm]
CONFIGS_FARM = Instance.new("TextButton")

-- Local Variable[Players]
local Players = game:GetService("Players")

-- Function[MainScript]
-- GetParts function --
function GetParts(partName)
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name == partName then
            return obj
        end
    end
    return nil
end


-- Instance[Modifier Button]
-- Open/Closed GUI --
TOGGLER_GUI.Parent = BloxFruits_SGUI_Version_01
TOGGLER_GUI.BackgroundColor3 = Black
TOGGLER_GUI.BackgroundTransparency = 0.5
TOGGLER_GUI.Position = UDim2.new(0.84, 0, -0.1, 0)
TOGGLER_GUI.Size = UDim2.new(0.05, 0, 0.1, 0)
TOGGLER_GUI.TextScaled = true
TOGGLER_GUI.TextColor3 = White
TOGGLER_GUI.Font = A_Font
TOGGLER_GUI.Text = "◇Zero"
TOGGLER_GUI.Visible = true

-- Draggable Frame --
DRAGGING_FRAME.Parent = BloxFruits_SGUI_Version_01
DRAGGING_FRAME.BackgroundColor3 = Black
DRAGGING_FRAME.BackgroundTransparency = 0.5
DRAGGING_FRAME.Position = UDim2.new(0.8, 0, 0.05, 0)
DRAGGING_FRAME.Size = DFrame_Default
DRAGGING_FRAME.Active = true
DRAGGING_FRAME.Draggable = true
DRAGGING_FRAME.Visible = false

-- Scrolling frame hold button --
SCROLLINGFRAME_ULT.Parent = DRAGGING_FRAME
SCROLLINGFRAME_ULT.BackgroundColor3 = Black
SCROLLINGFRAME_ULT.BackgroundTransparency = 0.5
SCROLLINGFRAME_ULT.Position = UDim2.new(-0.415, 0, 0, 0)
SCROLLINGFRAME_ULT.Size = UDim2.new(0.4, 0, 1, 0)
SCROLLINGFRAME_ULT.CanvasSize = UDim2.new(0, 0, 1, 0)
SCROLLINGFRAME_ULT.ScrollBarThickness = 0.1
SCROLLINGFRAME_ULT.Visible = false

-- Scrolling frame of Configs button --
CONFIGS_SCROLLINGFRAME.Parent = DRAGGING_FRAME
CONFIGS_SCROLLINGFRAME.BackgroundColor3 = Black
CONFIGS_SCROLLINGFRAME.BackgroundTransparency = 0.5
CONFIGS_SCROLLINGFRAME.Position = HBBox_Pos
CONFIGS_SCROLLINGFRAME.Size = HBBox_Size
CONFIGS_SCROLLINGFRAME.CanvasSize = HBBox_CanvasSize
CONFIGS_SCROLLINGFRAME.ScrollBarThickness = 0.1
CONFIGS_SCROLLINGFRAME.Visible = false

-- Scrolling frame of Farm button --
FARM_SCROLLINGFRAME.Parent = DRAGGING_FRAME
FARM_SCROLLINGFRAME.BackgroundColor3 = Black
FARM_SCROLLINGFRAME.BackgroundTransparency = 0.5
FARM_SCROLLINGFRAME.Position = HBBox_Pos
FARM_SCROLLINGFRAME.Size = HBBox_Size
FARM_SCROLLINGFRAME.CanvasSize = HBBox_CanvasSize
FARM_SCROLLINGFRAME.ScrollBarThickness = 0.1
FARM_SCROLLINGFRAME.Visible = false

-- Configs Button for MainScript --
Configs_MainScript.Parent = SCROLLINGFRAME_ULT
Configs_MainScript.BackgroundColor3 = Black
Configs_MainScript.BackgroundTransparency = 0
Configs_MainScript.Position = UDim2.new(0.02, 0, 0.02, 0)
Configs_MainScript.Size = Ult_Size
Configs_MainScript.TextScaled = true
Configs_MainScript.TextColor3 = White
Configs_MainScript.Font = A_Font
Configs_MainScript.Text = "Configs"
Configs_MainScript.Visible = true

-- Farm Button for MainScript --
Farm_MainScript.Parent = SCROLLINGFRAME_ULT
Farm_MainScript.BackgroundColor3 = Black
Farm_MainScript.BackgroundTransparency = 0
Farm_MainScript.Position = UDim2.new(0.02, 0, 0.19, 0)
Farm_MainScript.Size = Ult_Size
Farm_MainScript.TextScaled = true
Farm_MainScript.TextColor3 = White
Farm_MainScript.Font = A_Font
Farm_MainScript.Text = "Auto Farm"
Farm_MainScript.Visible = true

-- Button[Inside Configs[Slot:1]]
HUD_SIZETRANSFORMATION.Parent = CONFIGS_SCROLLINGFRAME
HUD_SIZETRANSFORMATION.BackgroundColor3 = Black
HUD_SIZETRANSFORMATION.BackgroundTransparency = 0
HUD_SIZETRANSFORMATION.Position = HUDPosition_Transform
HUD_SIZETRANSFORMATION.Size = HUDSize_Transform
HUD_SIZETRANSFORMATION.TextScaled = true
HUD_SIZETRANSFORMATION.TextColor3 = White
HUD_SIZETRANSFORMATION.Font = A_Font
HUD_SIZETRANSFORMATION.Text = "Size: Default"
HUD_SIZETRANSFORMATION.Visible = true

-- Button[Inside AutoFarm[Slot:1]]
CONFIGS_FARM.Parent = FARM_SCROLLINGFRAME
CONFIGS_FARM.BackgroundColor3 = Black
CONFIGS_FARM.BackgroundTransparency = 0
CONFIGS_FARM.Position = HUDPosition_Transform
CONFIGS_FARM.Size = HUDSize_Transform
CONFIGS_FARM.TextScaled = true
CONFIGS_FARM.TextColor3 = White
CONFIGS_FARM.Font = A_Font
CONFIGS_FARM.Text = "Mini Button Configs Script"
CONFIGS_FARM.Visible = true

-- Local Variable[UICorner]
local TOGGLER_GUI_UI, DRAGGING_FRAME_UI, SCROLLINGFRAME_ULT_UI, Configs_MainScript_UI
TOGGLER_GUI_UI = Instance.new("UICorner")
DRAGGING_FRAME_UI = Instance.new("UICorner")
SCROLLINGFRAME_ULT_UI = Instance.new("UICorner")
Configs_MainScript_UI = Instance.new("UICorner")
Farm_MainScript_UI = Instance.new("UICorner")


TOGGLER_GUI_UI.Parent = TOGGLER_GUI
DRAGGING_FRAME_UI.Parent = DRAGGING_FRAME
SCROLLINGFRAME_ULT_UI.Parent = SCROLLINGFRAME_ULT
Configs_MainScript_UI.Parent = Configs_MainScript
Farm_MainScript_UI.Parent = Farm_MainScript


TOGGLER_GUI_UI.CornerRadius = UDim.new(0.2, 0)
DRAGGING_FRAME_UI.CornerRadius = UDim.new(0.02, 0)
SCROLLINGFRAME_ULT_UI.CornerRadius = UDim.new(0.2, 0)
Configs_MainScript_UI.CornerRadius = UDim.new(0.15, 0)
Farm_MainScript_UI.CornerRadius = UDim.new(0.15, 0)


-- Active Button[Func]
local Is_UIVisible = false
TOGGLER_GUI.MouseButton1Click:Connect(function()
    if Is_UIVisible then
        DRAGGING_FRAME.Visible = false
        SCROLLINGFRAME_ULT.Visible = false
        TOGGLER_GUI.Text = "◇Zero"
        Is_UIVisible = false
    else
        DRAGGING_FRAME.Visible = true
        SCROLLINGFRAME_ULT.Visible = true
        TOGGLER_GUI.Text = "□Nine"
        Is_UIVisible = true
    end
end)

local size_xcount
size_xcount = 0
HUD_SIZETRANSFORMATION.MouseButton1Click:Connect(function()
    size_xcount = size_xcount + 1
    if size_xcount == 1 then
        HUD_SIZETRANSFORMATION.Text = "Size: Small"
        DRAGGING_FRAME.Size = DFrame_Small
    elseif size_xcount == 2 then
        HUD_SIZETRANSFORMATION.Text = "Size: Big"
        DRAGGING_FRAME.Size = DFrame_Big
    elseif size_xcount == 3 then
        size_xcount = 0
        HUD_SIZETRANSFORMATION.Text = "Size: Default"
        DRAGGING_FRAME.Size = DFrame_Default
    end
end)

local Is_MiniButton_1 = false
CONFIGS_FARM.MouseButton1Click:Connect(function()
    if Is_MiniButton_1 then
        
        CONFIGS_FARM.TextColor3 = White
        Is_MiniButton_1 = false
    else
        
        CONFIGS_FARM.TextColor3 = Green
        Is_MiniButton_1 = true
    end
end)

-- Ult Button [Variable]
local Is_SFUIVisible = false
local Is_SFUIVisible_2 = false

-- Ult Button[Slot:1]
Configs_MainScript.MouseButton1Click:Connect(function()
    if Is_SFUIVisible then
        CONFIGS_SCROLLINGFRAME.Visible = false
        Configs_MainScript.TextColor3 = White
        Is_SFUIVisible = false
    else
        CONFIGS_SCROLLINGFRAME.Visible = true
        FARM_SCROLLINGFRAME.Visible = false
        Farm_MainScript.TextColor3 = White
        Configs_MainScript.TextColor3 = Green
        Is_SFUIVisible_2 = false
        Is_SFUIVisible = true
    end
end)

-- [Slot:2]
Farm_MainScript.MouseButton1Click:Connect(function()
    if Is_SFUIVisible_2 then
        FARM_SCROLLINGFRAME.Visible = false
        Farm_MainScript.TextColor3 = White
        Is_SFUIVisible_2 = false
    else
        FARM_SCROLLINGFRAME.Visible = true
        CONFIGS_SCROLLINGFRAME.Visible = false
        Configs_MainScript.TextColor3 = White
        Farm_MainScript.TextColor3 = Green
        Is_SFUIVisible = false
        Is_SFUIVisible_2 = true
    end
end)


-- Update[TextButton.Text]
local all_exist_buttons = {
    TOGGLER_GUI
}

local function Update_buttons_text(index, N_Text)
    if all_exist_buttons[index] then
        all_exist_buttons[index].Text = N_Text
    end
end

local function Start_Update_All_Button()
    if _G.AllButton_Text and #_G.AllButton_Text == 1 then
        for i = 1, 1 do
            Update_buttons_text(i, _G.AllButton_Text[i])
        end
    end
end

-- RunService[RS]
local RS = game:GetService("RunService")

RS.RenderStepped:Connect(function(deltaTime)
    Start_Update_All_Button()
end)

-- Keep Script On [HaHa]
local teleportexecute = (syn and syn.queue_on_teleport) or queue_on_teleport or (fluxus and fluxus.queue_on_teleport)

local TeleportCheck = false
Players.LocalPlayer.OnTeleport:Connect(function(State)
    if KeepScript and (not TeleportCheck) and teleportexecute then
        TeleportCheck = true
        teleportexecute("loadstring(game:HttpGet('https://raw.githubusercontent.com/NganHa2k3/Tensura/refs/heads/place_1/BloxFruits_VN_UpdateVersion01'))()")
    end
end)

if teleportexecute then
    wait(1)
    print("<NganHa2k3 Script - KeepScript is On>")
    KeepScript = true
else
    warn("Missing queue_on_teleport")
end
